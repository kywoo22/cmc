<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>

<div class="header">
	<div class="header-left">
		<a href="#" class="logo-link w-inline-block">
			<div class="logo">로고</div>
		</a>
		<div class="menu-wrap">
			<div class="w-layout-vflex menu-box">
				<a href="/cmc/main.do" class="menu-link w-inline-block">
					<div>가상자산</div>
				</a>
				<div class="menu-wrap-box">
					<div class="menu-sub-wrap">
						<div class="inter _14s semibold a6co">가상자산</div>
						<div class="menu-link-box">
							<a href="/cmc/main.do" aria-current="page" class="menu-sub-link w-inline-block w--current">
								<div class="menu-circle color-b">
									<img src="/cmc/webflow/images/1.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">순위</div>
							</a> <a href="/cmc/virtual-assets/category.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-o">
									<img src="/cmc/webflow/images/2.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">카테고리</div>
							</a> <a href="/cmc/virtual-assets/historical.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-y">
									<img src="/cmc/webflow/images/1.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">과거 스냅샷</div>
							</a> <a href="/cmc/virtual-assets/token-unlocks.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-g">
									<img src="/cmc/webflow/images/4.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">Token Unlocks</div>
							</a> <a href="/cmc/virtual-assets/yield.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-b-dark">
									<img src="/cmc/webflow/images/5.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">이자농사</div>
							</a>
						</div>
					</div>
					<div class="menu-sub-wrap">
						<div class="inter _14s semibold a6co">리더보드</div>
						<div class="menu-link-box">
							<a href="/cmc/leader-board/trending-cryptocurrencies.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-o">
									<img src="/cmc/webflow/images/6.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">추세</div>
							</a> <a href="/cmc/leader-board/upComing.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-p">
									<img src="/cmc/webflow/images/7.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">예정</div>
							</a> <a href="/cmc/leader-board/new.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-b-dark">
									<img src="/cmc/webflow/images/8.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">최근 상장된 종목</div>
							</a> <a href="/cmc/leader-board/gainer-losers.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-g">
									<img src="/cmc/webflow/images/9.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">상승 및 하락 종목</div>
							</a> <a href="/cmc/leader-board/most-view.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-sky">
									<img src="/cmc/webflow/images/10.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">가장 많이 방문한 종목</div>
							</a> <a href="/cmc/leader-board/sentiment.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-b">
									<img src="/cmc/webflow/images/11.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">커뮤니티 정서</div>
							</a> <a href="/cmc/leader-board/chain-ranking.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-y">
									<img src="/cmc/webflow/images/12.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">Chain Ranking</div>
							</a>
						</div>
					</div>
					<div class="menu-sub-wrap">
						<div class="inter _14s semibold a6co">시장 개요</div>
						<div class="menu-link-box">
							<a href="/cmc/market-overview/market-overview.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-p">
									<img src="/cmc/webflow/images/13.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">시장 개요</div>
							</a> <a href="/cmc/market-overview/100index.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-b-dark">
									<img src="/cmc/webflow/images/14.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">CoinMarketCap 100 지수</div>
							</a> <a href="/cmc/market-overview/fear&greed.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-o">
									<img src="/cmc/webflow/images/15.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">공포 및 탐욕 지수.</div>
							</a> <a href="/cmc/market-overview/altCoin-season-index.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-sky">
									<img src="/cmc/webflow/images/16.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">알트코인 시즌 지수</div>
							</a> <a href="/cmc/market-overview/coin-dominance.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-y">
									<img src="/cmc/webflow/images/17.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">비트코인 도미넌스</div>
							</a> <a href="/cmc/market-overview/all-etf.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-p">
									<img src="/cmc/webflow/images/18.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">가상자산 ETF</div>
							</a>
						</div>
					</div>
					<div class="menu-sub-wrap">
						<div class="inter _14s semibold a6co">NFT</div>
						<div class="menu-link-box">
							<a href="/cmc/nft/nft.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-b-dark">
									<img src="/cmc/webflow/images/19.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">전체 NFT 통계</div>
							</a> <a href="/cmc/nft/upComing.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-g">
									<img src="/cmc/webflow/images/20.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">다가오는 판매</div>
							</a>
						</div>
					</div>
				</div>
			</div>
			<div class="w-layout-vflex menu-box">
				<a href="/cmc/dexscan/new-pairs.do" class="menu-link w-inline-block">
					<div>DexScan</div>
				</a>
				<div class="menu-wrap-box">
					<div class="menu-sub-wrap">
						<div class="menu-link-box">
							<a href="/cmc/dexscan/new-pairs.do" class="menu-sub-link _w-auto w-inline-block">
								<div class="menu-circle color-p">
									<img src="/cmc/webflow/images/21.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">New Pairs</div>
							</a> <a href="/cmc/dexscan/trending-pairs.do" class="menu-sub-link _w-auto w-inline-block">
								<div class="menu-circle color-o">
									<img src="/cmc/webflow/images/22.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">Trending Pairs</div>
							</a> <a href="/cmc/dexscan/top-gainers.do" class="menu-sub-link _w-auto w-inline-block">
								<div class="menu-circle color-g">
									<img src="/cmc/webflow/images/23.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">상승 및 하락한 가상자산</div>
							</a> <a href="/cmc/dexscan/ranking.do" class="menu-sub-link _w-auto w-inline-block">
								<div class="menu-circle color-sky">
									<img src="/cmc/webflow/images/24.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">Community Votes</div>
							</a> <a href="/cmc/dexscan/top-traders.do" class="menu-sub-link _w-auto w-inline-block">
								<div class="menu-circle color-b">
									<img src="/cmc/webflow/images/25.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">Top Traders</div>
							</a>
						</div>
					</div>
				</div>
			</div>
			<div class="w-layout-vflex menu-box">
				<a href="/cmc/exchange/spot.do" class="menu-link w-inline-block">
					<div>거래소</div>
				</a>
				<div class="menu-wrap-box flex-down">
					<div class="menu-sub-wrap">
						<div class="inter _14s semibold a6co">중앙화 거래소</div>
						<div class="menu-link-box">
							<a href="/cmc/exchange/spot.do" class="menu-sub-link _w-auto w-inline-block">
								<div class="menu-circle color-b">
									<img src="/cmc/webflow/images/26.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">스팟</div>
							</a> <a href="/cmc/exchange/derivatives.do" class="menu-sub-link _w-auto w-inline-block">
								<div class="menu-circle color-b-dark">
									<img src="/cmc/webflow/images/27.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">파생상품</div>
							</a>
						</div>
					</div>
					<div class="menu-sub-wrap">
						<div class="inter _14s semibold a6co">탈중앙화 거래소</div>
						<div class="menu-link-box">
							<a href="/cmc/exchange/dex-spot.do" class="menu-sub-link _w-auto w-inline-block">
								<div class="menu-circle color-b">
									<img src="/cmc/webflow/images/28.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">스팟</div>
							</a> <a href="/cmc/exchange/dex-derivatives.do" class="menu-sub-link _w-auto w-inline-block">
								<div class="menu-circle color-b-dark">
									<img src="/cmc/webflow/images/29.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">파생상품</div>
							</a>
						</div>
					</div>
				</div>
			</div>
			<div class="w-layout-vflex menu-box">
				<a href="/cmc/community/feed.do" class="menu-link w-inline-block">
					<div>커뮤니티</div>
				</a>
				<div class="menu-wrap-box">
					<div class="menu-sub-wrap">
						<div class="menu-link-box">
							<a href="/cmc/community/feed.do" class="menu-sub-link _w-auto w-inline-block">
								<div class="menu-circle color-b">
									<img src="/cmc/webflow/images/30.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">피드</div>
							</a> <a href="/cmc/community/topic.do" class="menu-sub-link _w-auto w-inline-block">
								<div class="menu-circle color-g">
									<img src="/cmc/webflow/images/31.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">Topics</div>
							</a> <a href="/cmc/community/lives.do" class="menu-sub-link _w-auto w-inline-block">
								<div class="menu-circle color-o">
									<img src="/cmc/webflow/images/32.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">Lives</div>
							</a> <a href="/cmc/community/articles.do" class="menu-sub-link _w-auto w-inline-block">
								<div class="menu-circle color-p">
									<img src="/cmc/webflow/images/33.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">기사들</div>
							</a>
						</div>
					</div>
				</div>
			</div>
			<div class="w-layout-vflex menu-box">
				<a href="#" class="menu-link w-inline-block">
					<div>서비스</div>
				</a>
				<div class="menu-wrap-box service">
					<div class="menu-sub-wrap">
						<div class="inter _14s semibold a6co">서비스</div>
						<div class="menu-link-box line">
							<a href="/cmc/service/converter.do" aria-current="page" class="menu-sub-link w-inline-block w--current">
								<div class="menu-circle color-p">
									<img src="/cmc/webflow/images/34.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">계산기</div>
							</a> <a href="/cmc/service/news-letter.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-b-dark">
									<img src="/cmc/webflow/images/35.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">뉴스레터</div>
							</a> <a href="/cmc/service/cmc-labs.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-g">
									<img src="/cmc/webflow/images/36.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">CMC Labs</div>
							</a> <a href="/cmc/service/telegram-bot.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-tele">
									<img src="/cmc/webflow/images/37.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">Telegram Bot</div>
							</a> <a href="/cmc/service/advertise.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-b">
									<img src="/cmc/webflow/images/38.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">광고</div>
							</a>
						</div>
						<div class="menu-link-box">
							<a href="/cmc/service/api.do" aria-current="page" class="menu-sub-link w-inline-block w--current">
								<div class="menu-circle color-gray">
									<img src="/cmc/webflow/images/39.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">가상자산 API</div>
							</a> <a href="/cmc/service/ticker.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-gray">
									<img src="/cmc/webflow/images/40.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">사이트 위젯</div>
							</a>
						</div>
					</div>
					<div class="menu-sub-wrap">
						<div class="inter _14s semibold a6co">리더보드</div>
						<div class="menu-link-box">
							<a href="/cmc/service/air-drop.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-g">
									<img src="/cmc/webflow/images/41.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">Airdrops</div>
							</a> <a href="/cmc/service/rewards.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-o">
									<img src="/cmc/webflow/images/42.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">다이아몬드 리워드</div>
							</a> <a href="/cmc/service/learn-and-earn.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-bsky">
									<img src="/cmc/webflow/images/43.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">알아보기 &amp; 손에 넣기</div>
							</a>
						</div>
						<div class="inter _14s semibold a6co">Calendars</div>
						<div class="menu-link-box">
							<a href="/cmc/service/calendar.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-bsky">
									<img src="/cmc/webflow/images/44.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">ICO 캘린더</div>
							</a> <a href="/cmc/service/event-calendar.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-p">
									<img src="/cmc/webflow/images/45.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">이벤트 달력</div>
							</a>
						</div>
					</div>
					<div class="menu-sub-wrap">
						<div class="inter _14s semibold a6co">가상자산 배우기</div>
						<div class="menu-link-box">
							<a href="/cmc/service/service-news.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-b-dark">
									<img src="/cmc/webflow/images/46.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">뉴스</div>
							</a> <a href="/cmc/service/academy.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-b">
									<img src="/cmc/webflow/images/47.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">Academy</div> <img src="/cmc/webflow/images/external_link.svg" loading="lazy" alt="">
							</a> <a href="/cmc/service/cmc-research.do" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-p">
									<img src="/cmc/webflow/images/48.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">조사</div> <img src="/cmc/webflow/images/external_link.svg" loading="lazy" alt="">
							</a> <a href="/cmc/market-overview/altcoin-season-index.html" class="menu-sub-link _w-auto w-inline-block">
								<div class="menu-circle color-r">
									<img src="/cmc/webflow/images/49.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">비디오</div> <img src="/cmc/webflow/images/external_link.svg" loading="lazy" alt="">
							</a> <a href="/cmc/market-overview/coin-dominance.html" class="menu-sub-link w-inline-block">
								<div class="menu-circle color-b-dark">
									<img src="/cmc/webflow/images/50.svg" loading="lazy" alt="">
								</div>
								<div class="inter _14s semibold">용어집</div> <img src="/cmc/webflow/images/external_link.svg" loading="lazy" alt="">
							</a>
						</div>
					</div>
				</div>
			</div>
			<a href="#" class="menu-right-btn mobile w-inline-block"><img src="/cmc/webflow/images/chart.svg" loading="lazy" alt="">
				<div>포트폴리오</div> </a> <a href="#" class="menu-right-btn mobile w-inline-block"><img src="/cmc/webflow/images/star.svg" loading="lazy" alt="">
				<div>관심 목록</div> </a>
			<div class="w-layout-vflex mo-menu-wrap">
				<a href="#" class="login-btn mobile w-button">계정 생성</a> <a href="#" onclick="openLogin()" class="login-btn mobile w-button">Log in</a>
			</div>
			<div class="menu-wrap-boxmo">
				<div class="mo-gray-bg">
					<div>한국어</div>
					<img src="/cmc/webflow/images/arrow_drop_black.svg" loading="lazy" alt="">
				</div>
				<div class="mo-gray-bg">
					<img src="/cmc/webflow/images/korean_icon_M.svg" loading="lazy" alt="">
					<div>KRW</div>
					<img src="/cmc/webflow/images/arrow_drop_black.svg" loading="lazy" alt="">
				</div>
			</div>
			<div class="h-tap mo">
				<a href="#" class="tabselect-h empty mo w-button">라이트</a> <a href="#" class="tabselect-h empty mo w-button">다크</a> <a href="#" class="tabselect-h empty mo on w-button">시스템</a>
			</div>
		</div>
	</div>
	<div class="header-right">
		<div class="btn-box">
			<a href="/cmc/portfolio-tracker.do" class="menu-right-btn w-inline-block"><img src="/cmc/webflow/images/chart.svg" loading="lazy" alt="">
				<div>포트폴리오</div> </a> <a href="/cmc/watchlist.do" class="menu-right-btn w-inline-block"><img src="/cmc/webflow/images/star.svg" loading="lazy" alt="">
				<div>관심 목록</div> </a>
		</div>
		<form action="/search" class="search w-form">
			<label for="search-2" class="search-icon"></label>
			<input class="search-input w-input" maxlength="256" name="query" placeholder="검색" type="search" id="search" required="">
			<input type="submit" class="slash-btn w-button" value="">
		</form>
		<a href="#" class="scan-btn w-button"></a> <a href="#" onclick="openLogin()" class="login-btn w-button">로그인</a>
		<div class="popover-base">
			<img src="/cmc/webflow/images/menu.svg" loading="lazy" alt="" class="menu-img"><img src="/cmc/webflow/images/close_1.svg" loading="lazy" alt="" class="menu-img close">
			<div class="avatar"></div>
		</div>
	</div>
</div>

<script>
	// =============================
	// (A) 데스크톱 모드: 호버로 열기/닫기
	// =============================
	function showSubmenu(box) {
	  const subMenu = box.querySelector('.menu-wrap-box');
	  if (subMenu) {
	    // 이전에 hide 타이머가 설정되어 있다면 취소
	    if (subMenu.hideTimeout) {
	      clearTimeout(subMenu.hideTimeout);
	      subMenu.hideTimeout = null;
	    }
	    
	    // 메뉴가 이미 보이는 상태가 아니라면 초기 상태 설정
	    if (subMenu.style.display !== 'flex') {
	      subMenu.style.transition = 'opacity 0.3s ease, max-height 0.3s ease';
	      subMenu.style.overflow = 'hidden';
	      subMenu.style.display = 'flex';
	      subMenu.style.opacity = 0;
	      subMenu.style.maxHeight = '0px';
	      // 강제 reflow 발생
	      void subMenu.offsetWidth;
	    }
	    // 보이도록 애니메이션 적용
	    subMenu.style.opacity = 1;
	    subMenu.style.maxHeight = '500px'; // 콘텐츠 높이에 맞게 조절
	  }
	}

	function hideSubmenu(box) {
		const subMenu = box.querySelector('.menu-wrap-box');
	    if (subMenu) {
	      subMenu.style.transition = 'opacity 0.3s ease, max-height 0.3s ease';
	      subMenu.style.opacity = 0;
	      subMenu.style.maxHeight = '0px';
	      // 기존 타이머가 있다면 취소하고 새로 설정
	      if (subMenu.hideTimeout) {
	        clearTimeout(subMenu.hideTimeout);
	      }
	      subMenu.hideTimeout = setTimeout(() => {
	        subMenu.style.display = 'none';
	      }, 300); // transition 시간과 동일하게 설정
	    }
	  }
	
	// “호버 이벤트” 등록
	function addHoverEvents() {
	  const menuBoxes = document.querySelectorAll('.menu-box');
	  menuBoxes.forEach((box) => {
	    box.addEventListener('mouseenter', () => showSubmenu(box));
	    box.addEventListener('mouseleave', () => hideSubmenu(box));
	  });
	}
	
	// “호버 이벤트” 제거
	function removeHoverEvents() {
	  const menuBoxes = document.querySelectorAll('.menu-box');
	  menuBoxes.forEach((box) => {
	    // 이벤트 제거를 위해 노드를 복제해 교체
	    const clone = box.cloneNode(true);
	    box.parentNode.replaceChild(clone, box);
	  });
	}
	
	// =============================
	// (B) 모바일 모드: 전체 메뉴 열기/닫기 + 클릭 시 서브메뉴 토글
	// =============================
	// 1) 전체 메뉴 열기 (햄버거 버튼)
	function openMobileMenu() {
	  const menuWrap = document.querySelector('.menu-wrap');
	  const openBtn  = document.querySelector('.menu-img:not(.close)');
	  const closeBtn = document.querySelector('.menu-img.close');
	
	  if (window.innerWidth < 992) {
	    if (menuWrap) menuWrap.style.display = 'flex';
	    if (openBtn)  openBtn.style.display  = 'none';
	    if (closeBtn) closeBtn.style.display = 'block';
	
	    // 스크롤 비활성화
	    document.body.style.overflow = 'hidden';
	  }
	}
	
	// 2) 전체 메뉴 닫기 (닫기 버튼)
	function closeMobileMenu() {
	  const menuWrap = document.querySelector('.menu-wrap');
	  const openBtn  = document.querySelector('.menu-img:not(.close)');
	  const closeBtn = document.querySelector('.menu-img.close');
	
	  if (menuWrap) menuWrap.style.display = '';
	  if (openBtn)  openBtn.style.display  = '';
	  if (closeBtn) closeBtn.style.display = '';
	
	  // 스크롤 복귀
	  document.body.style.overflow = '';
	}
	
	// 3) .menu-box 클릭 시 서브메뉴 열고/닫기
	function toggleSubmenu(box) {
	  const subMenu = box.querySelector('.menu-wrap-box');
	  if (!subMenu) return;
	
	  // display 값이 'none' 혹은 빈 값이면 열기, 아니면 닫기
	  if (subMenu.style.display === 'none' || !subMenu.style.display) {
	    subMenu.style.display = 'flex';
	  } else {
	    subMenu.style.display = 'none';
	  }
	}
	
	// “클릭 이벤트” 등록
	function addClickToggleEvents() {
	  const menuBoxes = document.querySelectorAll('.menu-box');
	  menuBoxes.forEach((box) => {
	    box.addEventListener('click', () => {
	      toggleSubmenu(box);
	    });
	  });
	}
	
	// “클릭 이벤트” 제거
	function removeClickToggleEvents() {
	  const menuBoxes = document.querySelectorAll('.menu-box');
	  menuBoxes.forEach((box) => {
	    const clone = box.cloneNode(true);
	    box.parentNode.replaceChild(clone, box);
	  });
	}
	
	// =============================
	// (C) 화면 크기에 따라 데스크톱 vs 모바일 모드 설정
	// =============================
	function handleResize() {
	  if (window.innerWidth >= 992) {
	    // 모바일 모드로 열려있다면 닫기
	    closeMobileMenu();
	
	    // 모바일 클릭 이벤트 제거
	    removeClickToggleEvents();
	
	    // 데스크톱 호버 이벤트 등록
	    addHoverEvents();
	  } else {
	    // 데스크톱 호버 이벤트 제거
	    removeHoverEvents();
	
	    // 모바일 클릭 이벤트 등록
	    addClickToggleEvents();
	  }
	}
	
	// =============================
	// (D) 페이지 로드 시 초기화
	// =============================
	function initAll() {
	  // 햄버거/닫기 버튼
	  const openBtn  = document.querySelector('.menu-img:not(.close)');
	  const closeBtn = document.querySelector('.menu-img.close');
	
	  if (openBtn)  openBtn.addEventListener('click', openMobileMenu);
	  if (closeBtn) closeBtn.addEventListener('click', closeMobileMenu);
	
	  // 현재 해상도에 맞게 세팅
	  handleResize();
	
	  // 창 크기 변화 시에도
	  window.addEventListener('resize', handleResize);
	}
	
	// DOMContentLoaded 후 init
	document.addEventListener('DOMContentLoaded', initAll);
	
	// 창 크기가 변경될 때 서비스 메뉴의 hover 효과(인라인 스타일)를 초기화
	window.addEventListener('resize', function() {
	    if (window.innerWidth < 992) {
	      // .service 클래스를 가진 메뉴의 inline 스타일을 초기화합니다.
	      const serviceMenus = document.querySelectorAll('.menu-wrap-box');
	      serviceMenus.forEach(function(menu) {
	        // hover 효과가 남아 있다면 초기 상태로 돌림
	        menu.style.display = '';
	        menu.style.opacity = '';
	        menu.style.maxHeight = '';
	      });
	    }
	  });
</script>






